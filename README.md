 # Дипломный проект профессии «1C-программист: с нуля до middle»
 
## Кастомизация конфигурации «Управление IT-фирмой для компании «Ваш компьютерный мастер»

### Цель дипломного проекта

Разработать и подготовить к эксплуатации новый функциональный блок в конфигурации «Управление IT-фирмой».

Вам нужно:

- реализовать новые подсистемы «Работа с заявками клиентов» и «Расчёт управленческой зарплаты» в соответствии с требованиями заказчика,
- подготовить отчёты по новой функциональности,
- оформить инструкцию по начальной настройке,
- подготовить автотест для проверки корректности работы подсистемы «Работа с заявками клиентов»,
- загрузить результат работы в новый репозиторий на GitHub.

Полный текст задачи находится [ЗДЕСЬ](https://github.com/netology-code/fonecmid-diplom)
------
## Решение
------
## Работа с заявками клиентов

### Подсистема Обслуживание клиентов

#### Договоры на абонентское обслуживание

Добален новый вид договоров "Абонентское обслуживание" в справочнике Договоры контрагентов, с возможность внести дату начала действия договора, дату окончания действия договора, сумму ежемесячной абоненсткой платы и стоимость часа работы специалиста.

------
#### Документ Обслуживание клиентов

Процесс работы с заявками построен следующим образом:

1. Клиент звонит менеджеру и оставляет заявку на работу специалиста с указанием проблемы, для решения которой нужен специалист.
2. Менеджер ищет свободное время и планирует заявку на это время.
3. При планировании телеграм-бот оповещает специалистов о появлении новой заявки.
4. Специалист в назначенное время в офисе клиента или удалённо проводит необходимые работы.
5. Специалист получает подписанный лист учёта рабочего времени или скан/фото листа учёта от клиента. В листе учёта перечисляются виды работ, выполненные специалистом, и фиксируется количество часов к оплате. В дальнейшем документ будет являться подтверждением проведения работ.
6. Специалист вносит в информационную систему информацию о выполненных работах, количество фактически потраченных часов на каждый вид работы, количество часов к оплате клиенту за каждый вид работы и прикрепляет к документу скан/фото листа учёта рабочего времени.

С документом Обслуживание клиентов работают менеджеры и специалисты. Для работы с данным документом созданы предопределенные профили пользователей BKM_Менеджер по обслуживанию и BKM_Специалист

#### Документ Реализации товаров и услуг
Если в документе Реализация товаров и услуг выбран догоовр с видом абонентская плата, то при нажатии на кнопку "заполнить", автоматически заполняется сумма ежемесячной платы и сумма за выполненные в течении месяца услуги по данным документа Обслуживание клиентов.
Из документа печатается акт выполненных услуг.
С документом Реализации товаров и услуг бухгалтеры. Для работы с данным документом созданы предопределенный профиль пользователя BKM_Бухгалтер, соответсвующая роль к нему.

#### Массовое Создание документов Реализация товаров и услуг
Создана обработка Массовое создание актов, которая формирует акты по всем абонентским договорам за указанный период. Обработку использует бухгалтер, с предопределенным профилем пользователя BKM_Бухгалтер и соответсвующей ролью.


## Расчёт управленческой зарплаты

На предприятии работают сотрудники двух категорий: специалисты и административный персонал. Специалистам начисляется минимальный оклад и процент за выполненные работы клиентам. Административный персонал получает оклад. Любому сотруднику на усмотрение руководства может быть начислена разовая фиксированная премия. Сотрудники могут уходить в отпуск. В период отпуска оклад не начисляется. Отпускные рассчитываются из расчёта среднедневной заработной платы за последние 12 месяцев:

(Начисленная сумма за 12 мес. / Количество рабочих дней) х Количество календарных дней отпуска

С каждого сотрудника удерживается НДФЛ – 13%.


Для каждого сотрудника необходимо хранить суммы окладов. Дополнительно для специалистов необходимо хранить процент от выполненных заказов, который им будет начисляться. Расчёт зарплаты выполняется документом НачислениеЗаработнойПлаты по всем видам расчёта, кроме премий. Премии начисляются отдельным документом НачислениеФиксированныхПремий. В документах НачислениеЗаработнойПлаты и НачислениеФиксированныхПремий автоматически рассчитывается удержание НДФЛ.
Так же, для документа ОбслуживаниеКлиента дополнительно реализована проверка: если на дату првоедениия документа для специалиста не установлен процент оплаты от работа, то документ не будет проволиться, учтено, что процент может быть нулевым(документ проводится).




